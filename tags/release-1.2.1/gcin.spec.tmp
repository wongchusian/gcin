%define release liu_mdk
%define prefix  /usr
%define name	gcin
%define version 1.1.7


Summary:	gcin :  Chinese input method server
Name:		%{name}
Version:	%{version}
Release:	%{release}
License: 	LGPL
Vendor:		Edward Liu
URL: 		http://www.csie.nctu.edu.tw/~cp76/gcin
Group: 		Applications/System
Source0:	%{name}-%{version}.tar.bz2
Packager:       Edward Liu <cp76@csie.nctu.edu.tw>
BuildRoot:	%{_builddir}/%{name}-%{version}-root

BuildRequires: libgtk+2.0_0-devel >= 2.2.4
Requires: gtk+2.0 >= 2.2.4

Docdir:         %{prefix}/share/doc

%description
gcin is a Chinese input method server for big5 traditional Chinese. It features
a better GTK user interface.

%prep
%setup

%build

%configure
make

%install
rm -rf $RPM_BUILD_ROOT
%makeinstall

%clean
rm -rf $RPM_BUILD_ROOT


%files
%defattr(-,root,root,0755)
%doc README Changelog
%{_bindir}/*
%{_includedir}/*
%{_datadir}/gcin/*
%{_datadir}/man/man1/*
%{_datadir}/icons/*
%{_datadir}/applications/*
%{_datadir}/control-center-2.0/capplets/*
%{_libdir}/menu/*
%{_libdir}/gtk-2.0/*
%{_libdir}/qt3/plugins/inputmethods/*
%{_libdir}/lib*

%post
/usr/share/gcin/script/modify-XIM
ldconfig
%update_menus

%postun

%clean_menus

%changelog
